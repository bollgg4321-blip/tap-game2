<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>Tap Game</title>
<style>
body {
  text-align: center;
  background: #111;
  color: white;
  font-family: sans-serif;
}
#game {
  width: 300px;
  height: 300px;
  background: #222;
  margin: auto;
  position: relative;
  border: 2px solid white;
}
.player {
  width: 30px;
  height: 30px;
  background: lime;
  position: absolute;
  top: 135px;
  left: 135px;
}
.enemy {
  width: 30px;
  height: 30px;
  background: red;
  position: absolute;
}
button {
  margin: 5px;
  padding: 10px;
}
</style>
</head>
<body>

<h2>Tap Game</h2>
<p>❤️ เลือด: <span id="hp">3</span> | ⏱️ เวลา: <span id="time">20</span></p>

<div id="game">
  <div class="player" id="player"></div>
  <div class="enemy" id="enemy"></div>
</div>

<br>
<button onclick="move('up')">⬆️</button><br>
<button onclick="move('left')">⬅️</button>
<button onclick="move('right')">➡️</button><br>
<button onclick="move('down')">⬇️</button>

<script>
let x=135,y=135,hp=3,time=20;
const player=document.getElementById("player");
const enemy=document.getElementById("enemy");
enemy.style.left="50px"; enemy.style.top="50px";

function move(d){
 if(d=='up')y-=10;
 if(d=='down')y+=10;
 if(d=='left')x-=10;
 if(d=='right')x+=10;
 player.style.left=x+"px";
 player.style.top=y+"px";
 checkHit();
}

function checkHit(){
 let ex=parseInt(enemy.style.left);
 let ey=parseInt(enemy.style.top);
 if(Math.abs(x-ex)<30 && Math.abs(y-ey)<30){
   hp--;
   document.getElementById("hp").innerText=hp;
   enemy.style.left=Math.random()*260+"px";
   enemy.style.top=Math.random()*260+"px";
   if(hp<=0) alert("เกมโอเวอร์");
 }
}

setInterval(()=>{
 time--;
 document.getElementById("time").innerText=time;
 if(time<=0) alert("หมดเวลา!");
},1000);
</script>

</body>
</html>
